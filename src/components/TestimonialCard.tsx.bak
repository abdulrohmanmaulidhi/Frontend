import React from "react";
import starIcon from "../assets/icon/star.png";

interface TestimonialCardProps {
  image: string;
  avatar: string;
  name: string;
  rating: number;
  testimonial: string;
}

function Dest8Pic({ image }: { image: string }) {
  return (
    <div className="aspect-[700/400] relative shrink-0 w-full">
      <div className="absolute inset-0 rounded-[10px]">
        <img
          alt=""
          className="absolute inset-0 w-full h-full object-cover rounded-[10px]"
          src={image}
        />
      </div>
    </div>
  );
}

function Frame9({ image }: { image: string }) {
  return (
    <div className="w-full">
      <div className="flex flex-col items-start p-[10px] w-full">
        <Dest8Pic image={image} />
      </div>
    </div>
  );
}

function Profile({ avatar }: { avatar: string }) {
  return (
    <div className="relative shrink-0 size-[61px]">
      <div className="absolute inset-0 rounded-full overflow-hidden">
        <img
          alt=""
          className="w-full h-full object-cover"
          src={avatar}
        />
      </div>
    </div>
  );
}

function Frame3({ avatar }: { avatar: string }) {
  return (
    <div className="flex items-center p-[10px] shrink-0">
      <Profile avatar={avatar} />
    </div>
  );
}

function Frame4({ name }: { name: string }) {
  return (
    <div className="shrink-0 w-full -mb-[15px]">
      <div className="flex items-center w-full">
        <div className="flex items-center p-[10px] w-full">
          <p className="font-bold text-[#444444] text-[18px] md:text-[24px]">
            {name}
          </p>
        </div>
      </div>
    </div>
  );
}

function Star() {
  return (
    <div className="shrink-0 size-[18px] md:size-[21px]">
      <img src={starIcon} alt="star" className="w-full h-full object-contain" />
    </div>
  );
}

function Frame1() {
  return (
    <div className="flex items-center p-[4px] md:p-[6px] shrink-0">
      <Star />
    </div>
  );
}

function Frame({ rating }: { rating: number }) {
  return (
    <div className="flex items-center justify-center p-[4px] md:p-[6px] shrink-0">
      <p className="font-medium text-[#444444] text-[16px] md:text-[20px]">
        {rating.toFixed(1)}
      </p>
    </div>
  );
}

function Frame2({ rating }: { rating: number }) {
  return (
    <div className="flex items-center shrink-0 -mb-[15px]">
      <Frame1 />
      <Frame rating={rating} />
    </div>
  );
}

function Frame5({ name, rating }: { name: string; rating: number }) {
  return (
    <div className="flex flex-col grow pb-[15px] shrink-0">
      <Frame4 name={name} />
      <Frame2 rating={rating} />
    </div>
  );
}

function Frame6({ avatar, name, rating }: { avatar: string; name: string; rating: number }) {
  return (
    <div className="flex items-center w-full shrink-0">
      <Frame3 avatar={avatar} />
      <Frame5 name={name} rating={rating} />
    </div>
  );
}

function Frame7({ testimonial }: { testimonial: string }) {
  return (
    <div className="w-full shrink-0">
      <div className="flex items-center justify-center w-full">
        <div className="flex items-center justify-center p-[10px] w-full">
          <p className="font-medium text-[#444444] text-[16px] md:text-[20px] text-justify">
            "{testimonial}"
          </p>
        </div>
      </div>
    </div>
  );
}

function Frame8({ avatar, name, rating, testimonial }: { avatar: string; name: string; rating: number; testimonial: string }) {
  return (
    <div className="flex flex-col items-start w-full">
      <Frame6 avatar={avatar} name={name} rating={rating} />
      <Frame7 testimonial={testimonial} />
    </div>
  );
}

export default function TestimonialCard({
  image,
  avatar,
  name,
  rating,
  testimonial,
}: TestimonialCardProps) {
  return (
    <div className="bg-white rounded-[10px] shadow-[0px_12px_16px_-4px_rgba(10,13,18,0.08),0px_4px_6px_-2px_rgba(10,13,18,0.03)] w-full">
      <div className="flex flex-col items-center w-full">
        <div className="flex flex-col items-center p-[15px] w-full">
          <Frame9 image={image} />
          <Frame8 avatar={avatar} name={name} rating={rating} testimonial={testimonial} />
        </div>
      </div>
    </div>
  );
}
